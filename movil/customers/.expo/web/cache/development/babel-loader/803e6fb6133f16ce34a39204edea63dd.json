{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nexport default function createNumberMask(props) {\n  var _ref = props || {},\n      _ref$delimiter = _ref.delimiter,\n      delimiter = _ref$delimiter === void 0 ? '.' : _ref$delimiter,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 2 : _ref$precision,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? [] : _ref$prefix,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ',' : _ref$separator;\n\n  return function (value) {\n    var numericValue = (value === null || value === void 0 ? void 0 : value.replace(/\\D+/g, '')) || '';\n    var mask = numericValue.split('').map(function () {\n      return /\\d/;\n    });\n    var shouldAddSeparatorOnMask = precision > 0 && !!separator;\n\n    if (mask.length > precision && shouldAddSeparatorOnMask) {\n      mask.splice(-precision, 0, separator);\n    }\n\n    var amountOfDelimiters = Math.ceil((numericValue.length - precision) / 3) - 1;\n\n    if (delimiter) {\n      for (var i = 0; i < amountOfDelimiters; i++) {\n        var precisionOffset = precision;\n        var separatorOffset = shouldAddSeparatorOnMask ? 1 : 0;\n        var thousandOffset = 3 + (delimiter ? 1 : 0);\n        var delimiterPosition = -precisionOffset - separatorOffset - i * thousandOffset - 3;\n        mask.splice(delimiterPosition, 0, delimiter);\n      }\n    }\n\n    return [].concat(_toConsumableArray(prefix), _toConsumableArray(mask));\n  };\n}","map":{"version":3,"sources":["createNumberMask.ts"],"names":["delimiter","precision","prefix","separator","props","value","numericValue","mask","shouldAddSeparatorOnMask","amountOfDelimiters","Math","i","precisionOffset","separatorOffset","thousandOffset","delimiterPosition"],"mappings":";AAKA,eAAe,SAAA,gBAAA,CAAA,KAAA,EAA+D;EAC5E,WAAyEI,KAAK,IAA9E,EAAA;EAAA,0BAAQJ,SAAR;EAAA,IAAQA,SAAR,+BAAM,GAAN;EAAA,0BAAyBC,SAAzB;EAAA,IAAyBA,SAAzB,+BAAM,CAAN;EAAA,uBAAwCC,MAAxC;EAAA,IAAwCA,MAAxC,4BAAM,EAAN;EAAA,0BAAqDC,SAArD;EAAA,IAAqDA,SAArD,+BAAiE,GAAjE;;EAEA,OAAQE,UAAAA,KAAD,EAAoB;IACzB,IAAMC,YAAY,GAAG,CAAA,KAAK,KAAL,IAAA,IAAA,KAAK,KAAA,KAAL,CAAA,GAAA,KAAA,CAAA,GAAA,KAAK,CAAL,OAAA,CAAA,MAAA,EAAA,EAAA,CAAA,KAArB,EAAA;IAEA,IAAIC,IAAe,GAAGD,YAAY,CAAZA,KAAAA,CAAAA,EAAAA,EAAAA,GAAAA,CAA2B;MAAA,OAAjD,IAAiD;IAAA,CAA3BA,CAAtB;IAEA,IAAME,wBAAwB,GAAGP,SAAS,GAATA,CAAAA,IAAiB,CAAC,CAAnD,SAAA;;IAEA,IAAIM,IAAI,CAAJA,MAAAA,GAAAA,SAAAA,IAAJ,wBAAA,EAAyD;MACvDA,IAAI,CAAJA,MAAAA,CAAY,CAAZA,SAAAA,EAAAA,CAAAA,EAAAA,SAAAA;IACD;;IAED,IAAME,kBAAkB,GAAGC,IAAI,CAAJA,IAAAA,CAAU,CAACJ,YAAY,CAAZA,MAAAA,GAAD,SAAA,IAAVI,CAAAA,IAA3B,CAAA;;IAEA,IAAA,SAAA,EAAe;MACb,KAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,kBAAA,EAAwCA,CAAxC,EAAA,EAA6C;QAC3C,IAAMC,eAAe,GAArB,SAAA;QACA,IAAMC,eAAe,GAAGL,wBAAwB,GAAA,CAAA,GAAhD,CAAA;QACA,IAAMM,cAAc,GAAG,KAAKd,SAAS,GAAA,CAAA,GAArC,CAAuB,CAAvB;QACA,IAAMe,iBAAiB,GACrB,CAAA,eAAA,GAAA,eAAA,GAAqCJ,CAAC,GAAtC,cAAA,GADF,CAAA;QAGAJ,IAAI,CAAJA,MAAAA,CAAAA,iBAAAA,EAAAA,CAAAA,EAAAA,SAAAA;MACD;IACF;;IAED,oCAAO,MAAP,sBAAA,IAAA;EAzBF,CAAA;AA2BD","sourcesContent":["import type { MaskArray } from './formatWithMask.types';\n\nimport type { Mask } from './formatWithMask.types';\nimport type { CreateNumberMaskProps } from './createNumberMask.types';\n\nexport default function createNumberMask(props?: CreateNumberMaskProps): Mask {\n  const { delimiter = '.', precision = 2, prefix = [], separator = ',' } = props || {};\n\n  return (value?: string) => {\n    const numericValue = value?.replace(/\\D+/g, '') || '';\n\n    let mask: MaskArray = numericValue.split('').map(() => /\\d/);\n\n    const shouldAddSeparatorOnMask = precision > 0 && !!separator;\n\n    if (mask.length > precision && shouldAddSeparatorOnMask) {\n      mask.splice(-precision, 0, separator);\n    }\n\n    const amountOfDelimiters = Math.ceil((numericValue.length - precision) / 3) - 1;\n\n    if (delimiter) {\n      for (let i = 0; i < amountOfDelimiters; i++) {\n        const precisionOffset = precision;\n        const separatorOffset = shouldAddSeparatorOnMask ? 1 : 0;\n        const thousandOffset = 3 + (delimiter ? 1 : 0);\n        const delimiterPosition =\n          -precisionOffset - separatorOffset - i * thousandOffset - 3;\n\n        mask.splice(delimiterPosition, 0, delimiter);\n      }\n    }\n\n    return [...prefix, ...mask];\n  };\n}\n"]},"metadata":{},"sourceType":"module"}